# Pruebas unitarias <!-- omit in toc -->


# 1. Desarrollo
Este caso utiliza un REST API utilizano Javascript. Sin embargo es aplicable a otros lenguajes.

## 1.1. Ir al proyecto
```
git clone https://github.com/cachac/testingLabs.git
```
```
cd testinglabs/assets/dev/rest-api

pnpm install
```
Resultado:
```
3 high severity vulnerabilities
```

## 1.2. Revisar vulnerabilidades
```
npm audit
```
## 1.3. Navegar al link de la vulnerabilidad

# 2. Pruebas unitarias
## 2.1. Ejecutar el API localmente
```
npm run dev
```
## 2.2. Probar API
```
curl localhost:3000/healthcheck

curl "localhost:3000/delay?seconds=3"

curl localhost:3000/random_crash

curl localhost:3000/crash
```

## 2.3. Prueba
### 2.3.1. Detener el API
### 2.3.2. Ejecutar el script de pruebas
```
npm test
```
Resultado:
```
Test Suites: 1 passed, 1 total
Tests:       2 passed, 2 total
```
### 2.3.3. Forzar un error
Descomentar el tercer caso de pruebas del archivo api.test.js
Resultado:
```
Test Suites: 1 failed, 1 total
Tests:       1 failed, 2 passed, 3 total
```
